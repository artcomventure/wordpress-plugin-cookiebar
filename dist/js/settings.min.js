"use strict";(function(a){function b(b,c){if("undefined"!=typeof tinymce){if("undefined"==typeof c&&(c="body"),"body"!==c){var e=[];for(var f in b)b.hasOwnProperty(f)&&e.push(f+": "+b[f]);b="<style>"+c+"{ "+e.join("; ")+" }</style>"}Array.prototype.forEach.call(d,function(d){var e=tinymce.get(d.id),f=e.getBody();"body"===c?e.dom.setStyle(f,b):a(f).parent().find("head").append(b)})}}a("div.nav-tab-wrapper").each(function(){var b=a(this),c=a("a",b).on("click",function(b){b.preventDefault(),c.removeClass("nav-tab-active").each(function(){a(a(this).attr("href")).hide()}),a(a(this).blur().addClass("nav-tab-active").attr("href")).show()});b.find("a").first().trigger("click")});var c,d=document.getElementsByClassName("wp-editor-area"),e=a("input[name=\"sid[fontsize]\"]");a("#custom_fontsize").on("change",function(){a(this).parent()[this.checked?"addClass":"removeClass"]("checked"),this.checked?b({fontSize:e.val()||e.attr("placeholder")}):b({fontSize:""})}).trigger("change"),a("#font-size-slider").slider({min:8,max:36,value:parseInt(e.val()||e.attr("placeholder")),create:function create(){c=a(this).children().first().attr("data-value",e.val()||e.attr("placeholder"))},slide:function slide(a,d,f){e.val(f=d.value+"px"),c.attr("data-value",f),b({fontSize:f})}}),a("input.color-picker").each(function(){a(this).wpColorPicker({palettes:[],change:function change(){setTimeout(function(){switch(this.name){case"sid[color][box]":b({backgroundColor:this.value});break;case"sid[color][text]":b({color:this.value});break;case"sid[color][link]":b({color:this.value},"a");}}.bind(this),10)}}).closest("div.wp-picker-container").find("span.wp-color-result-text").text(a(this).data("label"))});var f=a("input[name=\"sid[color][button]\"]").closest("div.wp-picker-container"),g=a("select[name=\"sid[rejection][tag]\"], select[name=\"sid[confirmation][tag]\"]").on("change",function(){var b=this.name,c=this.value;g.filter(function(){return this.name===b}).each(function(){a(this).val(c)}),f[g.filter(function(){return"button"===this.value}).length?"show":"hide"]()});g.first().trigger("change"),function(){function b(){e&&(e=e.abort()),e=a.get(ajaxurl,{action:"sid-expiration",expires:c.val(),format:"d.m.Y H:i:s"},function(a){d.removeClass("error"),!1===a?(a=wp.i18n.__("ERROR. Please check format.","sid"),d.addClass("error")):!a&&(a=wp.i18n.__("until the end of the session","sid")),d.html(a)})}var c=a("input[name=\"sid[expires]\"]");if(c.length){var d=c.find("+ p.description span:first-of-type");if(d.length){var e;c.on("input",b)}}}()})(jQuery);